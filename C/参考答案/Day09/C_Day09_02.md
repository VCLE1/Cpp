## 王道训练营C/C++方向

### 题目

(a) 用数组实现栈。

```c
#include <stdbool.h>
#include <stdlib.h>
#include <stdio.h>

#define N 100

typedef int E;
typedef struct stack_s {
	E elements[N];
	int top;
}Stack;

Stack* Stack_create() {
	return (Stack*) calloc(1, sizeof(Stack));
}

void Stack_destroy(Stack* stack) {
	free(stack);
}

bool isEmpty(Stack* stack) {
	return stack->top == 0;
}

bool isFull(Stack* stack) {
	return stack->top == N;
}

void push(Stack* stack, E val) {
	if (isFull(stack)) {
		printf("Error: stack is full.\n");
		exit(1);
	}
	stack->elements[stack->top++] = val;
}

E pop(Stack* stack) {
	if (isEmpty(stack)) {
		printf("Error: stack is empty.\n");
		exit(1);
	}
	return stack->elements[--stack->top];
}

E peek(Stack* stack) {
	if (isEmpty(stack)) {
		printf("Error: stack is empty.\n");
		exit(1);
	}
	return stack->elements[stack->top];
}
```



(b) 用链表实现队列。

```c
#include <stdlib.h>
#include <stdbool.h>
#include <stdio.h>

typedef int E;
typedef struct node_s {
	E val;
	struct node_s* next;
} Node;

typedef struct queue_s {
	Node* head;
	Node* tail;
} Queue;

Queue* Queue_create() {
	return (Queue*)calloc(1, sizeof(Queue));
}

void Queue_destroy(Queue* q) {
	Node* curr = q;
	while (curr != NULL) {
		Node* next = curr->next;
		free(curr);
		curr = next;
	}
	free(q);
}

bool isEmpty(Queue* q) {
	return q->head == NULL;
}

void enqueue(Queue* q, E val) {
	Node* newNode = (Node*)malloc(sizeof(Node));
	if (newNode == NULL) {
		printf("Error: malloc failed in enqueue.\n");
		exit(1);
	}
	// 初始化结点
	newNode->val = val;
	newNode->next = NULL;

	if (q->tail == NULL) {
		q->head = q->tail = newNode;
	}
	else {
		q->tail->next = newNode;
		q->tail = newNode;
	}
}

E dequeue(Queue* q) {
	if (isEmpty(q)) {
		printf("Error: queue is empty.\n");
		exit(1);
	}
	Node* node = q->head;
	E removeValue = node->val;
	
	q->head = node->next;
	if (q->head == NULL) {
		q->tail = NULL;
	}

	free(node);
	return removeValue;
}

E peek(Queue* q) {
	if (isEmpty(q)) {
		printf("Error: queue is empty.\n");
		exit(1);
	}
	return q->head->val;
}
```



### 答案

请在下面填写你的答案：







### 





