## 王道训练营C/C++方向

### 题目描述

结点类型定义如下：

```c
typedef struct node_s {
    int val;
    struct node_s* next;
} Node;
```

请完成下面题目:

(a) 求链表中间结点的元素。

```c
int middleElement(Node* list);
输入: 1 --> 2 --> 3
输出: 2
输入: 1 --> 2 --> 3 --> 4
输出: 3
```

```c
int middleElement(Node* list) {
    if (list == NULL) {
        return -1;
    }

    Node* slow = list;
    Node* fast = list;
    while (fast != NULL && fast->next != NULL) {
        slow = slow->next;
        fast = fast->next;
    }
    return slow->val;
}
```



(b) 判断单链表是否有环?

```c
bool hasCycle(Node* list) {
    if (list == NULL) {
        return false;
    }
    Node* fast = list;
    Node* slow = list;
    do {
        // 如果 fast 到达了链表的末尾
        if (fast == NULL || fast->next == NULL) {
            return true;
        }
        fast = fast->next->next;
        slow = slow->next;
    } while (fast != slow);
    // 循环结束: fast == slow, 说明链表有环
    return true;
}
```



(c) 反转单链表

```c
Node* reverse(Node* list);
输入: 1 --> 2 --> 3
输出: 3 --> 2 --> 1
```

```c
Node* reverse(Node* list) {
    Node* prev = NULL;
    Node* curr = list;

    while (curr != NULL) {
        // 保留curr的后继结点
        Node* next = curr->next;
        // 反转当前结点
        curr->next = prev;
        // 更新prev和curr
        prev = curr;
        curr = next;
    }
    //循环结束: curr == NULL, prev指向反转后的第一个结点
    return prev;
}
```



### 答案

请在下面填写你的答案：

